import asyncio
import logging
import random
import re
from aiogram import Bot, Dispatcher, types
from aiogram.types import Message
from aiogram.filters import CommandStart

# ะขะฒะพะน ัะพะบะตะฝ ะฑะพัะฐ
TOKEN = "ะขะะะ_ะขะะะะ"

# ะะบะปััะฐะตะผ ะปะพะณะธัะพะฒะฐะฝะธะต
logging.basicConfig(level=logging.INFO)

# ะกะพะทะดะฐัะผ ะพะฑัะตะบัั ะฑะพัะฐ ะธ ะดะธัะฟะตััะตัะฐ
bot = Bot(token=TOKEN)
dp = Dispatcher()

# 100 ัะฝะธะฒะตััะฐะปัะฝัั ััะฐะท
responses = [
    "ะะะะะฌ ๐ฅ", "๐ฅ๐ฅ๐ฅ", "ะขะธะณัะฐ ๐", "ะขะฐะฝััั ะดะปั ัะตะฑั ะดะถะธะณั-ะดััะณั ๐", "ะะพะผะฑะฐ๐ฃ",
    "ะะพะถะตัั ะบะพะณะดะฐ ะทะฐัะพัะตัั๐", "ะะฐัะตั ๐", "ะฅัั, ะฝั ัะพัั 1 ะตััั ๐คฅ", "ะะพัะฝะพ ๐คฉ", "ะะตะณะตะฝะดะฐ โจ",
    "ะ, ะทะฐัะธะฑะธัั๐", "ะะฐะบะตัะฐ๐", "ะ ัะพะผ ะถะต ะดััะต ะดะพ 15 ะปะธะดะพะฒ๐ฐ", "ะญัะพ ะฟะพ ะฝะฐัะตะผั! โค๏ธ", "ะะพัะปัะฝะฐั ะฟะพะฟะฐะปะฐัั ๐",
    "ะฃัะฐะฐะฐะฐะฐะฐะฐะฐะฐะฐะฐะฐ! โค๏ธ", "ะกะดะตะปะฐั ะฝะฐ ะฟะตัะตะบััะต ะผะฐััะฐะถ ะฟััะพะบ ๐ค", "ะัะต ะพะดะธะฝ ะธ ะธะดะตะผ ะฝะฐ ัะฒะธะดะฐะฝะธะต ะฒ ะฟะธะฒะฝััั๐",
    "ะัะต +1?โ๐ณ ัะฐะบ ะธ 700 ะณัะฝ ะฟะพะดัะผะตัั", "ะฃะผะฝะธัะบะฐ ะผะพั ๐", "ะงะธััะพ ะฟะพ ะบัะฐัะพัะต! ะพะฑะฝะธะผะฐั, ัะตะปัั, ะถะผั ััะบั๐!", "ะะธะถั ะฟัะพะณัะตัั, ะฒ ัะพะผ ะถะต ะดััะต ะธ ั ะผะตะฝั ะบะพะบะฐะบะพะปะฐ โ๏ธ",
    "ะฝั ะฟัะพััะพ ะฝะตะฒะตัะพััะฝะตะฝัะบะพ, ัะธะผ ะพะฑัะฐะดัะตััั ะฝะฐะฒะตัะฝะพ๐ช", "ะะฐััะถะตะฝ ะฝะฐ 4 ะปะธะดะฐ ๐", "ะก ะบะฐะถะดัะผ ะดะฝะตะผ ะฒัั ะบัััะต ๐ฅ", "ะะพัั ะฑะฐะฑััะตะบ ๐ฐ",
    "ะะฐััะตั ัะฒะพะตะณะพ ะดะตะปะฐ ๐ฏ", "ะขะฒะพะน ัะตะทัะปััะฐั ะฒะฟะตัะฐัะปัะตั ๐", "ะะฐะน ะฟััั, ัะตะผะฟะธะพะฝ ๐๏ธ", "ะคะตะฝะพะผะตะฝะฐะปัะฝะพ! ๐ฒ",
    "ะะพั ััะพ ััะพะฒะตะฝั ๐", "ะะตัะตะฐะปัะฝะพ, ะฟัะพัะธ ะธะดะธ ะฟะพัะตะปัั ๐๏ธ", "ะะตะณะตะฝะดะฐ ะฒ ะดะตะปะต โจ", "ะะฝะณะตะป ะฟัะพะดะฐะถ ๐",
    "ะะฐะบ ะถะต ัั ัะพัะพั(ะฐ) ๐", "ะขะฐะบ ะดะตัะถะฐัั! ๐", "ะััะบะฐ, ัะฐะบะตัะฐ, ััะฐะณะฐะฝ! ๐๐ฅ", "ะขั ะฟัะพััะพ ะทะฒะตัั ๐บ",
    "ะะพะปะพััะต ััะบะธ ๐", "ะะฐััะตั ะทะฒะพะฝะบะพะฒ ๐ค", "ะะพะณ ัะพัะณะพะฒะปะธ ๐ฑ", "ะฏ ะฒ ัะพะบะต ะพั ัะฒะพะตะณะพ ัะบะธะปะปะฐ ๐ฑ",
    "ะขะฐะบ ะธ ะดะพ ะผะธะปะปะธะพะฝะฐ ะฝะตะดะฐะปะตะบะพ ๐ธ", "ะัััะต ัะพะปัะบะพ ะะปะพะฝ ะะฐัะบ ๐", "ะขั ัะพะดััะธะน ะดะพะปะปะฐั ๐ฒ",
    "ะัะฐะนั ะปะธัั ะณะพัะธั ะพั ัะฒะพะธั ัะดะตะปะพะบ ๐ฅ", "ะะพั ััะพ ะบะปะธะตะฝััะบะธะน ัะตัะฒะธั! ๐", "ะะปะธะตะฝัั ะฒ ะฒะพััะพัะณะต ๐คฉ",
    "ะขั ะฝะฐ ะบะพะฝะต! ๐", "ะะธะดะตั ะฟะพ ะถะธะทะฝะธ! ๐", "ะัะพ, ัั ะปัััะธะน! ๐ค๐ค", "ะะฐะบ ัะฐะบ ะผะพะถะฝะพ ะฟัะพะดะฐะฒะฐัั?! ๐คฏ"
]

# ะะฐะถะฝัะต ัะพะพะฑัะตะฝะธั (ัะฐะท ะฒ 3 ัะฐัะฐ)
important_messages = [
    """โผ๏ธะคะธัะพะฝะพัะผะฐะป ะธ ัะฒะฐะผะฟะณะตะปั ะผะพะถะฝะพ ะฟัะพะดะฐะฒะฐัั โผ๏ธ
โะะฐะปัะณะพัะพะฝ (ะบะพััะพัะบะฐ ะฝะฐ ะฝะพะณะต)
โะะตะฝะพะปะธะด (ะฒะฐัะธะบะพะท)
โะะตะฝ ัะฐะนะท (ะฟะพัะตะฝัะธั)""",
    
    """โผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธ
ะะะะกะฃะะฌะขะะฆะะฏ - 20 ะะะ ะ ะะะะฌ
ะะะะะะะะะะะะ - 6 ะะะ ะะ ะะะ
ะะะฃะงะะะะ - ะะ ะะะะะฃ ะะะะะะงะะะะฎ
ะะะงะะซะ ะะะะะะซะ - 1 ะงะะก
ะะะะะฎ ะ ะะฃะง - 15 ะะะ ะ ะะะะฌ
โผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธโผ๏ธ
ะะตัะตะปะธะผะธัั +30 ะผะธะฝ = ัััะฐั 100 ะณัะฝ ๐""",
    
    """๐ ะัะธะฑะพะบ (ัะฒะฐะผ ัะบะทะพััะพะฟ) 
๐ฌ ะะธะฐะฑะตั (ะณะปัะบะพะปะธะบั)  
๐ ะะฐัะฐะทะธัั (ะณะตัะพะบัะธะฝ, ัะพะบัะธะปะธะด) 
๐ฃ ะะฐะปัะณัั (ะะฐะปัะณะพัะพะฝ)  
๐ฑ๏ธ ะะฐัะธะบะพะท (ะะตะฝัะตะนะฒ ะะตะฝะพะปะธะด) 
๐ ะกะปัั (ะะพัะฐะฑะธะพะฝ) 
๐ ะฃะฒะตะปะตัะตะฝะธะต (ะขะธัะฐะฝ ะะบัะธะฒ) 
ะัั ะณัะผะฐะฝะธัะฐัะบะฐ ะธ ะฒะพั ััะธ ะพััะตัั ะคะ ะฟะพ ััะฐััะผ ัะตะฝะฐะผ (4 ัะฟ) 1990 ะณัะฝ - (6 ัะฟ) 2844 ะณัะฝ"""
]

# ะคัะฝะบัะธั ะดะปั ะพัะฟัะฐะฒะบะธ ะฒัะตั ะฒะฐะถะฝัั ัะพะพะฑัะตะฝะธะน ัะฐะท ะฒ 3 ัะฐัะฐ
async def send_important_messages():
    while True:
        try:
            for msg in important_messages:
                await bot.send_message(chat_id="-1001697395203", text=msg)
                await asyncio.sleep(2)  # ะงัะพะฑั ะฝะต ะพัะฟัะฐะฒะปััั ะฒัะต ััะฐะทั
            logging.info("ะะฐะถะฝัะต ัะพะพะฑัะตะฝะธั ะพัะฟัะฐะฒะปะตะฝั (ะฟะพะฒัะพั ัะฐะท ะฒ 3 ัะฐัะฐ).")
        except Exception as e:
            logging.error(f"ะัะธะฑะบะฐ ะพัะฟัะฐะฒะบะธ ะฒะฐะถะฝัั ัะพะพะฑัะตะฝะธะน: {e}")
        
        await asyncio.sleep(10800)  # 3 ัะฐัะฐ (3 * 60 * 60 ัะตะบัะฝะด)

# ะะฑัะฐะฑะพััะธะบ ัะพะพะฑัะตะฝะธะน
@dp.message()
async def respond(message: Message):
    text = message.text.strip()

    # ะะตะณัะปััะบะฐ ะดะปั ะฟะพะธัะบะฐ "+1", "+1.5", "+2" ะธ ะฒะฐัะธะฐัะธะน ัะพ ัะผะฐะนะปะธะบะฐะผะธ
    if re.match(r"\+1(\.5)?(\s*(ะบัั|ะณัะผ|ะบัะพัั|ัั|\+ะบัั|\+ะบัะพัั)?)?(\s*[\U0001F300-\U0001F6FF]*)?$", text):
        response = random.choice(responses)
        await message.reply(response)
        await message.react([types.ReactionTypeEmoji(emoji="โค๏ธ")])

@dp.message(CommandStart())
async def start_command(message: types.Message):
    await message.reply("ะัะธะฒะตั! ะฏ ัะฒะพะน ะฑะพั ะดะปั ะฟัะพะดะฐะถ. ะะฐะบ ะดะตะปะฐ?")

# ะะฐะฟััะบ ะฑะพัะฐ ะธ ัะพะฝะพะฒะพะน ะทะฐะดะฐัะธ
async def main():
    asyncio.create_task(send_important_messages())  # ะะฐะถะฝัะต ัะพะพะฑัะตะฝะธั ะบะฐะถะดัะต 3 ัะฐัะฐ
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
